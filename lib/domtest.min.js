!function(e,t){function n(){var e;if(null==o&&(e="MaskJS"),null==i&&(e="jQuery"),e)throw Error(e+" was not loaded");var n=t(r,o,i,a);return"undefined"!=typeof module&&module.exports?void(module.exports=n):"undefined"!=typeof define&&define.amd?void define(function(){return n}):void(global.DomTest=n)}var r="undefined"!=typeof global?global:window,o=r.mask||r.atma&&r.atma.mask,i=r.jQuery||r.$,a=r.assert;n()}(this,function(e,t,n,r){"use strict";function o(e,n,r){"string"==typeof n&&(n=t.parse(n),n.type!==t.Dom.FRAGMENT&&(n={nodes:[n]}));var o=new a(e,n);return o.process(),o.always(r),o}function i(){}function a(e,t,r,o){e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(e=e.childNodes),this.model=r,this.compo=o,this.stack=[{$:n(e),node:t}],this.process=this.process.bind(this),this.backtrace=(new Error).stack}var s,u,l,c;!function(){function e(){var e=[];for(var t in e)e.push(t);return e}s=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},u=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},c=Object.keys?Object.keys:e,l=function(e,t){if(null==e&&(e={}),null==t)return e;for(var n in t)e[n]=t[n];return e}}();var d;!function(){d=console.error.bind(console,"<TestDom>")}();var p,f,h;!function(){function e(e){null!=e&&(e.length=0)}p=function(e,t){if(null!=e)for(var n=0;n<e.length;n++)e[n].apply(null,t||[])},f=function(e,t,n){if(null!=n){var r="_"+t+"Cb",o=e[r];null==o&&(o=e[r]=[]),o.push(n)}},h=function(t){e(t._rejectCb),e(t._alwaysCb),e(t._resolveCb)}}();var v,y;!function(){function e(e,t,n,r){if(null==t.expression){var o=t.attr,i=[];for(var a in o)a===o[a]&&i.push(a);if(0!==i.length)return i;var s={},u=0;for(var a in o)s[a]=o[a],u++;return u>0?[s]:(d("Expression expected for",t.tagName),null)}return""===t.expression?[]:e(t.expression,n,null,r)}v=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.unshift(t.Utils.Expression.evalStatements),e.apply(null,n)},y=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.unshift(t.Utils.Expression.eval),e.apply(null,n)}}();var m,g,b,E,_;!function(){m=function(e){return null!=n.fn[e]},g=function(e,t,n){var r=e[t],o=n.pop();if("function"==typeof r){var i=r.apply(e,n);return void assert.equal(i,o)}assert.equal(r,o)},b=function(e){return null!=assert.$[e+"_"]},E=function(e,t,n){assert.$[t+"_"].apply(e,[e].concat(n))},_=function(e){function t(t,n){return r.total++,t(e)?n:void 0}return t(b,E)||t(m,g)}}();var x={};!function(){function e(e,t){return function(n){var r=n.node.expression;/^\s*('|")/.test(r)&&(r=y(r));var o=n.$[e](r);t&&0===o.length&&(o=n.$[t](r)),assert.notEqual(o.length,0,"Selector does not matched any elements: "+e+"("+r+")"),n.$=o}}[["find","filter"],["filter"],["closest"],["children"],["siblings"]].forEach(function(t){var n=t,r=n[0],o=n[1];x[r]=e(r,o)})}();var T={press:function(e,t,n){var r=y(t.node);t.$.simulate("key-combo",{combo:r}),setTimeout(n)},type:function(e,t,n){var r=y(t.node);t.$.simulate("key-sequence",{sequence:r}),setTimeout(n)}},k={"with":function(e,t,n){x.find(t),n()},"debugger":function(e,t,n){t.$;n()},slot:function(e,t,n){var r=t.node.fn;return 2===r.length?void r(t.$,n):(r(t.$),void n())},"do":function(e,t,n){var r;for(r in t.node.attr)break;var o=T[r];return o?void o(e,t,n):(t.$.simulate(r,t.node.attr),void setTimeout(n))},call:function(e,t,n){var r;for(r in t.node.attr)break;assert.is(t.$[r],"Function");var o=v(t.node,e.model,e.compo);t.$[r].apply(t.$,o),setTimeout(n)},await:function(e,t,n){function r(){var e=t.$.find(a);return 0===e.length&&(e=t.$.filter(a)),u>l&&0===e.length?(l+=s,void setTimeout(r,s)):(l>u&&assert(!1,"<await> Elements are not resolved: "+a),x.find(t),void n())}var o=t.node.expression,i=parseFloat(o);if(i===i)return void setTimeout(n,i);var a=o,s=200,u=1600,l=0;r()}};l(k,{hasClass:function(e,t,n){var r=v(t.node),o=_("hasClass");1===r.length&&r.push(!0),o(t.$,"hasClass",r,t.node.attr),n()}});var w={report:null};!function(){o.config=function(e){return"sttring"==typeof e?w[e]:(l(w,e),o)}}(),i.prototype={resolved:null,rejected:null,_resolveCb:null,_rejectCb:null,_alwaysCb:null,resolve:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.resolved=e,p(this._resolveCb,e),p(this._alwaysCb),h(this)},reject:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.rejected=e,p(this._rejectCb,e),p(this._alwaysCb),h(this)},done:function(e){return null==e?this:this.resolved?(e.apply(null,this.resolved),this):(null==this.rejected&&f(this,"resolve",e),this)},fail:function(e){return null==e?this:this.rejected?(e.apply(null,this.rejected),this):(null==this.resolved&&f(this,"reject",e),this)},always:function(e){return null==e?this:this.rejected||this.resolved?(e(),this):(f(this,"always",e),this)},then:function(e,t){return this.done(e).fail(t)}};var C;!function(){C={report:function(e){if(w.report)return void w.report(e);if(r){if(r.ifError)return void r.ifError(e);if(null!=e&&r.fail)return void r.fail(e)}if(e)throw e}}}(),a.prototype=l({getCurrent_:function(){return this.stack[this.stack.length-1]},getNext_:function(e){var t=this.getCurrent_();if(null==t)return null;if(e!==!1&&t.node.nodes)return this.stack.push({$:t.$,node:t.node.nodes[0]}),this.getCurrent_();for(this.stack.pop();this.stack.length>0;){var n=this.getCurrent_(),r=n.node.nodes,o=r.indexOf(t.node);if(o>=r.length-1)t=this.stack.pop();else{if(-1!==o)return this.stack.push({$:n.$,node:r[o+1]}),this.getCurrent_();console.error("Node not found"),t=this.stack.pop()}}return null},process:function(e){var t=this.getNext_(null==e);if(null==t)return void this.resolve();var n=t.node.tagName,r=x[n];if(r){var e=this.run_(r,[t]);return void this.process(e)}var o=k[n];if(o)return void this.run_(o,[this,t,this.process]);var i=v(t.node,this.model,this.compo),a=t.$,s=_(n);return s?(this.run_(s,[a,n,i,t.node.attr]),void this.process()):(d("Uknown test function: ",n),void this.process())},run_:function(e,t,n){var r;try{e.apply(n,t)}catch(o){r=o}this.report_(r);var i=t[t.length-1];null!=r&&"function"==typeof i&&i(r)},report_:function(e){e=this.prepairError_(e),C.report(e)},prepairError_:function(e){if(null==e)return null;var n=this.getCurrent_().node,r=t.stringify(n,2),o=r.split("\n");o.length>7&&(r=o.splice(0,6).join("\n"));var i=e.generatedMessage?r:e.message+"\n"+r;return Object.defineProperty(e,"message",{value:i,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(e,"stack",{value:assert.prepairStack(this.backtrace),writable:!0,enumerable:!0,configurable:!0}),e.generatedMessage=!1,e}},i.prototype);var P;return function(){function e(e){var t=e.findAll(":utest"),n=t.length,o=new i;return 0===n?(r(!1,"No `:utest` components found"),o.reject()):(t.forEach(function(e){DomTest(e.$,e),--n,0===n&&o.resolve()}),o)}P=function(n,r){if("string"!=typeof n)return e(n);var o=new Compo;return t.render(n,r,null,null,o),e(o)},t.registerHandler(":utest",t.Compo({render:function(e,t,r){r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(r=r.childNodes),this.$=n(r)}}))}(),o.create=o,o.compo=P,o}),function(e){e.simulate&&e.simulate.prototype.simulateKeyCombo||(!function(){function e(e){return"undefined"!=typeof e.value?"value":"undefined"!=typeof e.text?"text":"undefined"!=typeof e.textContent?"textContent":"innerText"}function t(){}function n(){}function r(e,t){var n=t.text.replace(/\r/g,"").length;if(e.compareEndPoints("StartToStart",t)<=0)return 0;if(e.compareEndPoints("StartToEnd",t)>=0)return n;for(var r=0;e.compareEndPoints("StartToStart",t)>0;++r,e.moveStart("character",-1));return r}function o(e,t){var n=t.text.replace(/\r/g,"").length;if(e.compareEndPoints("EndToEnd",t)>=0)return n;if(e.compareEndPoints("EndToStart",t)<=0)return 0;for(var r=0;e.compareEndPoints("EndToStart",t)>0;++r,e.moveEnd("character",-1));return r}function i(){}function a(){}function s(e,t){if(e.firstChild)return e.firstChild;if(e.nextSibling)return e.nextSibling;if(e===t)return null;for(;e.parentNode;){if(e=e.parentNode,e==t)return null;if(e.nextSibling)return e.nextSibling}return null}function u(e,t,n,r){if(!(0>=t)){var o=e[n?"startContainer":"endContainer"];for(3==o.nodeType&&(t+=e[n?"startOffset":"endOffset"]);o;){if(3==o.nodeType){if(t<=o.nodeValue.length){if(e[n?"setStart":"setEnd"](o,t),t==o.nodeValue.length){for(var i=s(o,r);i&&3==i.nodeType&&0==i.nodeValue.length;i=s(i,r))e[n?"setStartAfter":"setEndAfter"](i);i&&1==i.nodeType&&"BR"==i.nodeName&&e[n?"setStartAfter":"setEndAfter"](i)}return}e[n?"setStartAfter":"setEndAfter"](o),t-=o.nodeValue.length}o=s(o,r)}}}function l(e,t){return e.compareBoundaryPoints(p,t)<=0?0:e.compareBoundaryPoints(v,t)>=0?t.toString().length:(e=e.cloneRange(),e.setEnd(t.endContainer,t.endOffset),t.toString().length-e.toString().length)}function c(e,t){return e.compareBoundaryPoints(h,t)>=0?t.toString().length:e.compareBoundaryPoints(f,t)<=0?0:(e=e.cloneRange(),e.setStart(t.startContainer,t.startOffset),e.toString().length)}function d(){}bililiteRange=function(t,r){var o;return o=r?new d:document.selection?new n:window.getSelection&&t.setSelectionRange?new i:window.getSelection?new a:new d,o._el=t,o._textProp=e(t),o._bounds=[0,o.length()],o},t.prototype={length:function(){return this._el[this._textProp].replace(/\r/g,"").length},bounds:function(e){if("all"===e)this._bounds=[0,this.length()];else if("start"===e)this._bounds=[0,0];else if("end"===e)this._bounds=[this.length(),this.length()];else if("selection"===e)this.bounds("all"),this._bounds=this._nativeSelection();else{if(!e){var t=[Math.max(0,Math.min(this.length(),this._bounds[0])),Math.max(0,Math.min(this.length(),this._bounds[1]))];return t}this._bounds=e}return this},select:function(){return this._nativeSelect(this._nativeRange(this.bounds())),this},text:function(e,t){return arguments.length?(this._nativeSetText(e,this._nativeRange(this.bounds())),"start"==t?(this.bounds([this._bounds[0],this._bounds[0]]),this.select()):"end"==t?(this.bounds([this._bounds[0]+e.length,this._bounds[0]+e.length]),this.select()):"all"==t&&(this.bounds([this._bounds[0],this._bounds[0]+e.length]),this.select()),this):this._nativeGetText(this._nativeRange(this.bounds()))},insertEOL:function(){return this._nativeEOL(),this._bounds=[this._bounds[0]+1,this._bounds[0]+1],this}},n.prototype=new t,n.prototype._nativeRange=function(e){var t;return"INPUT"==this._el.tagName?t=this._el.createTextRange():(t=document.body.createTextRange(),t.moveToElementText(this._el)),e&&(e[1]<0&&(e[1]=0),e[0]>this.length()&&(e[0]=this.length()),e[1]<t.text.replace(/\r/g,"").length&&(t.moveEnd("character",-1),t.moveEnd("character",e[1]-t.text.replace(/\r/g,"").length)),e[0]>0&&t.moveStart("character",e[0])),t},n.prototype._nativeSelect=function(e){e.select()},n.prototype._nativeSelection=function(){var e=this._nativeRange(),t=this.length();if("Text"!=document.selection.type)return[t,t];var n=document.selection.createRange();try{return[r(n,e),o(n,e)]}catch(i){return n.parentElement().sourceIndex<this._el.sourceIndex?[0,0]:[t,t]}},n.prototype._nativeGetText=function(e){return e.text.replace(/\r/g,"")},n.prototype._nativeSetText=function(e,t){t.text=e},n.prototype._nativeEOL=function(){"undefined"!=typeof this._el.value?this.text("\n"):this._nativeRange(this.bounds()).pasteHTML("<br/>")},i.prototype=new t,i.prototype._nativeRange=function(e){return e||[0,this.length()]},i.prototype._nativeSelect=function(e){this._el.setSelectionRange(e[0],e[1])},i.prototype._nativeSelection=function(){return[this._el.selectionStart,this._el.selectionEnd]},i.prototype._nativeGetText=function(e){return this._el.value.substring(e[0],e[1])},i.prototype._nativeSetText=function(e,t){var n=this._el.value;this._el.value=n.substring(0,t[0])+e+n.substring(t[1])},i.prototype._nativeEOL=function(){this.text("\n")},a.prototype=new t,a.prototype._nativeRange=function(e){var t=document.createRange();return t.selectNodeContents(this._el),e&&(u(t,e[0],!0,this._el),t.collapse(!0),u(t,e[1]-e[0],!1,this._el)),t},a.prototype._nativeSelect=function(e){window.getSelection().removeAllRanges(),window.getSelection().addRange(e)},a.prototype._nativeSelection=function(){var e=this._nativeRange();if(0==window.getSelection().rangeCount)return[this.length(),this.length()];var t=window.getSelection().getRangeAt(0);return[l(t,e),c(t,e)]},a.prototype._nativeGetText=function(e){return e.toString()},a.prototype._nativeSetText=function(e,t){t.deleteContents(),t.insertNode(document.createTextNode(e)),this._el.normalize()},a.prototype._nativeEOL=function(){var e=this._nativeRange(this.bounds());e.deleteContents();var t=document.createElement("br");t.setAttribute("_moz_dirty",""),e.insertNode(t),e.insertNode(document.createTextNode("\n")),e.collapse(!1)};var p=0,f=1,h=2,v=3;d.prototype=new t,d.prototype._nativeRange=function(e){return e||[0,this.length()]},d.prototype._nativeSelect=function(){},d.prototype._nativeSelection=function(){return[0,0]},d.prototype._nativeGetText=function(e){return this._el[this._textProp].substring(e[0],e[1])},d.prototype._nativeSetText=function(e,t){var n=this._el[this._textProp];this._el[this._textProp]=n.substring(0,t[0])+e+n.substring(t[1])},d.prototype._nativeEOL=function(){this.text("\n")}}(),function(e,t){"use strict";function n(e){return u.test(Object.prototype.toString.call(e))}function r(e){for(var t=0;t<window.frames.length;t+=1)if(window.frames[t].document===e)return window.frames[t];return window}function o(t){var r,o,i=e(t);return n(i[0])?(o=i,r={left:0,top:0}):(o=e(i[0].ownerDocument||document),r=i.offset()),{x:r.left+i.outerWidth()/2-o.scrollLeft(),y:r.top+i.outerHeight()/2-o.scrollTop()}}function i(t){var r,o,i=e(t);return n(i[0])?(o=i,r={left:0,top:0}):(o=e(i[0].ownerDocument||document),r=i.offset()),{x:r.left-document.scrollLeft(),y:r.top-document.scrollTop()}}var a=/^key/,s=/^(?:mouse|contextmenu)|click/,u=/\[object (?:HTML)?Document\]/;e.fn.simulate=function(t,n){return this.each(function(){new e.simulate(this,t,n)})},e.simulate=function(t,n,r){var o=e.camelCase("simulate-"+n);this.target=t,this.options=r||{},this[o]?this[o]():this.simulateEvent(t,n,this.options)},e.extend(e.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}}),e.extend(e.simulate.prototype,{simulateEvent:function(e,t,n){var r=this.createEvent(t,n);this.dispatchEvent(e,t,r,n)},createEvent:function(e,t){return a.test(e)?this.keyEvent(e,t):s.test(e)?this.mouseEvent(e,t):void 0},mouseEvent:function(o,i){var a,s,u,l,c=n(this.target)?this.target:this.target.ownerDocument||document;return i=e.extend({bubbles:!0,cancelable:"mousemove"!==o,view:r(c),detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:t},i),c.createEvent?(a=c.createEvent("MouseEvents"),a.initMouseEvent(o,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget||c.body.parentNode),0===a.pageX&&0===a.pageY&&Object.defineProperty&&(s=n(a.relatedTarget)?a.relatedTarget:a.relatedTarget.ownerDocument||document,u=s.documentElement,l=s.body,Object.defineProperty(a,"pageX",{get:function(){return i.clientX+(u&&u.scrollLeft||l&&l.scrollLeft||0)-(u&&u.clientLeft||l&&l.clientLeft||0)}}),Object.defineProperty(a,"pageY",{get:function(){return i.clientY+(u&&u.scrollTop||l&&l.scrollTop||0)-(u&&u.clientTop||l&&l.clientTop||0)}}))):c.createEventObject&&(a=c.createEventObject(),e.extend(a,i),a.button={0:1,1:4,2:2}[a.button]||a.button),a},keyEvent:function(o,i){var a,s;if(i=e.extend({bubbles:!0,cancelable:!0,view:r(s),ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:t},i),s=n(this.target)?this.target:this.target.ownerDocument||document,s.createEvent)try{a=s.createEvent("KeyEvents"),a.initKeyEvent(o,i.bubbles,i.cancelable,i.view,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode)}catch(u){a=s.createEvent("Events"),a.initEvent(o,i.bubbles,i.cancelable),e.extend(a,{view:i.view,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey,keyCode:i.keyCode,charCode:i.charCode})}else s.createEventObject&&(a=s.createEventObject(),e.extend(a,i));return(/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||"[object Opera]"==={}.toString.call(window.opera))&&(a.keyCode=i.charCode>0?i.charCode:i.keyCode,a.charCode=t),a},dispatchEvent:function(t,n,r,o){o.jQueryTrigger===!0?e(t).trigger(e.extend({},r,o,{type:n})):t.dispatchEvent?t.dispatchEvent(r):t.fireEvent&&t.fireEvent("on"+n,r)},simulateFocus:function(){function t(){r=!0}var n,r=!1,o=e(this.target);o.bind("focus",t),o[0].focus(),r||(n=e.Event("focusin"),n.preventDefault(),o.trigger(n),o.triggerHandler("focus")),o.unbind("focus",t)},simulateBlur:function(){function t(){r=!0}var n,r=!1,o=e(this.target);o.bind("blur",t),o[0].blur(),setTimeout(function(){o[0].ownerDocument.activeElement===o[0]&&o[0].ownerDocument.body.focus(),r||(n=e.Event("focusout"),n.preventDefault(),o.trigger(n),o.triggerHandler("blur")),o.unbind("blur",t)},1)}}),e.extend(e.simulate.prototype,{simulateDrag:function(){var n=0,r=this.target,a=this.options,s="corner"===a.handle?i(r):o(r),u=Math.floor(s.x),l=Math.floor(s.y),c={clientX:u,clientY:l},d=a.dx||(a.x!==t?a.x-u:0),p=a.dy||(a.y!==t?a.y-l:0),f=a.moves||3;for(this.simulateEvent(r,"mousedown",c);f>n;n++)u+=d/f,l+=p/f,c={clientX:Math.round(u),clientY:Math.round(l)},this.simulateEvent(r.ownerDocument,"mousemove",c);e.contains(document,r)?(this.simulateEvent(r,"mouseup",c),this.simulateEvent(r,"click",c)):this.simulateEvent(document,"mouseup",c)}})}(jQuery),function(e){"use strict";var t=e.simulate.prototype.mouseEvent,n=/\[object (?:HTML)?Document\]/;e.simulate.prototype.mouseEvent=function(r,o){if(o.pageX||o.pageY){var i=n.test(Object.prototype.toString.call(this.target))?this.target:this.target.ownerDocument||document;o.clientX=(o.pageX||0)-e(i).scrollLeft(),o.clientY=(o.pageY||0)-e(i).scrollTop()}return t.apply(this,[r,o])}}(jQuery),function(e,t){"use strict";function n(t){return c.test(Object.prototype.toString.call(e(t)[0]))}function r(t,n){var r;if(e.isFunction(n)){for(r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}for(r=0;r<t.length;r+=1)if(t[r])return t[r];return null}function o(t){var r,o=e(t);return r=n(o[0])?{left:0,top:0}:o.offset(),{x:r.left+o.outerWidth()/2,y:r.top+o.outerHeight()/2}}function i(t,r,o){var i;return i=e(n(r)?r:o||document),"number"==typeof t&&"number"==typeof r?{x:t-i.scrollLeft(),y:r-i.scrollTop()}:"object"==typeof t&&t.pageX&&t.pageY?{clientX:t.pageX-i.scrollLeft(),clientY:t.pageY-i.scrollTop()}:void 0}function a(t,r,o){var i;if(i=n(r)?r:o||document,!i.elementFromPoint)return null;var s=t,u=r;if("object"==typeof t&&(t.clientX||t.clientY)&&(s=t.clientX||0,u=t.clientY||0),a.prototype.check){var l,c;(l=e(i).scrollTop())>0?(c=i.elementFromPoint(0,l+e(window).height()-1),null!==c&&"HTML"===c.tagName.toUpperCase()&&(c=null),a.prototype.nativeUsesRelative=null===c):(l=e(i).scrollLeft())>0&&(c=i.elementFromPoint(l+e(window).width()-1,0),null!==c&&"HTML"===c.tagName.toUpperCase()&&(c=null),a.prototype.nativeUsesRelative=null===c),a.prototype.check=0>=l}return a.prototype.nativeUsesRelative||(s+=e(i).scrollLeft(),u+=e(i).scrollTop()),i.elementFromPoint(s,u)}function s(t,n){var r=n||{};e(t).trigger({type:"simulate-drag"}),e.isFunction(r.callback)&&r.callback.apply(t)}function u(t,o,u,c,d){function p(){x.x+=y.x,x.y+=y.y;var e={pageX:x.x,pageY:x.y};if(g.shaky&&(g.shaky===!0||!isNaN(parseInt(g.shaky,10)))){var n=g.shaky===!0?1:parseInt(g.shaky,10);e.pageX+=Math.floor(Math.random()*(2*n+1)-n),e.pageY+=Math.floor(Math.random()*(2*n+1)-n)}var r=i(e,m),s=a(r,m)||o;t.simulateEvent(s,"mousemove",{pageX:Math.round(e.pageX),pageY:Math.round(e.pageY)})}function f(){var e=l()-_;if(e>=P)if(v>S)p(),S+=1,_=l(),setTimeout(f,P);else{var n={pageX:Math.round(u.x+c.dx),pageY:Math.round(u.y+c.dy)},r=i(n,m),h=a(r,m)||o;t.simulateEvent(h,"mousemove",n),s(o,d)}else setTimeout(f,P-e)}var h,v,y,m=r([o,o.ownerDocument],n)||document,g=d.interpolation,b=Math.sqrt(Math.pow(c.dx,2)+Math.pow(c.dy,2));if(g.stepWidth){h=parseInt(g.stepWidth,10),v=Math.floor(b/h)-1;var E=h/b;y={x:c.dx*E,y:c.dy*E}}else v=parseInt(g.stepCount,10),h=b/(v+1),y={x:c.dx/(v+1),y:c.dy/(v+1)};var _,x=e.extend({},u);if(!g.stepDelay&&!g.duration||g.stepDelay<=0&&g.duration<=0){for(var T=0;v>T;T+=1)p();var k={pageX:Math.round(u.x+c.dx),pageY:Math.round(u.y+c.dy)},w=i(k,m),C=a(w,m)||o;t.simulateEvent(C,"mousemove",k),s(o,d)}else{var P=parseInt(g.stepDelay,10)||Math.ceil(parseInt(g.duration,10)/(v+1)),S=0;_=l(),setTimeout(f,P)}}e.fn.simulate=function(t,n){switch(t){case"drag":case"drop":case"drag-n-drop":var r=this.first();return new e.simulate(r[0],t,n),r;default:return this.each(function(){new e.simulate(this,t,n)})}};var l=Date.now||function(){return(new Date).getTime()},c=/\[object (?:HTML)?Document\]/;a.prototype.check=!0,a.prototype.nativeUsesRelative=!0,e.simulate.activeDrag=function(){return e.simulate._activeDrag?e.extend(!0,{},e.simulate._activeDrag):t},e.extend(e.simulate.prototype,{simulateDrag:function(){var l,c=this,d=c.target,p=e.extend({dx:0,dy:0,dragTarget:t,clickToDrag:!1,eventProps:{},interpolation:{stepWidth:0,stepCount:0,stepDelay:0,duration:0,shaky:!1},callback:t},this.options),f=e.simulate._activeDrag&&e.simulate._activeDrag.dragElement===d;l=f?e.simulate._activeDrag.dragStart:o(d);var h,v,y=Math.round(l.x),m=Math.round(l.y),g={pageX:y,pageY:m};if(p.dragTarget){var b=o(p.dragTarget);h=Math.round(b.x-l.x),v=Math.round(b.y-l.y)}else h=p.dx||0,v=p.dy||0;if(f?(e.simulate._activeDrag.dragDistance.x+=h,e.simulate._activeDrag.dragDistance.y+=v,g={pageX:Math.round(y+e.simulate._activeDrag.dragDistance.x),pageY:Math.round(m+e.simulate._activeDrag.dragDistance.y)}):(e.simulate._activeDrag&&e(e.simulate._activeDrag.dragElement).simulate("drop"),e.extend(p.eventProps,g),c.simulateEvent(d,"mousedown",p.eventProps),p.clickToDrag===!0&&(c.simulateEvent(d,"mouseup",p.eventProps),c.simulateEvent(d,"click",p.eventProps)),e(d).add(d.ownerDocument).one("mouseup",function(){e.simulate._activeDrag=t}),e.extend(e.simulate,{_activeDrag:{dragElement:d,dragStart:{x:y,y:m},dragDistance:{x:h,y:v}}}),g={pageX:Math.round(y+h),pageY:Math.round(m+v)}),0!==h||0!==v)if(p.interpolation&&(p.interpolation.stepCount||p.interpolation.stepWidth))u(c,d,{x:y,y:m},{dx:h,dy:v},p);else{var E=r([d,d.ownerDocument],n)||document,_=i(g,E),x=a(_,E)||d;e.extend(p.eventProps,g),c.simulateEvent(x,"mousemove",p.eventProps),s(d,p)}else s(d,p)},simulateDrop:function(){var s=this,u=this.target,l=e.simulate._activeDrag,c=e.extend({clickToDrop:!1,eventProps:{},callback:t},s.options),d=!0,p=o(u),f=Math.round(p.x),h=Math.round(p.y),v={pageX:f,pageY:h},y=(l?r([l.dragElement,l.dragElement.ownerDocument],n):r([u,u.ownerDocument],n))||document,m=i(v,y),g=a(m,y);l&&(l.dragElement===u||n(u))&&(f=Math.round(l.dragStart.x+l.dragDistance.x),h=Math.round(l.dragStart.y+l.dragDistance.y),v={pageX:f,pageY:h},m=i(v,y),g=a(m,y),d=!1),g||(g=l?l.dragElement:u),e.extend(c.eventProps,v),d===!0&&s.simulateEvent(g,"mousemove",c.eventProps),c.clickToDrop&&s.simulateEvent(g,"mousedown",c.eventProps),this.simulateEvent(g,"mouseup",c.eventProps),c.clickToDrop&&s.simulateEvent(g,"click",c.eventProps),e.simulate._activeDrag=t,e(g).trigger({type:"simulate-drop"}),e.isFunction(c.callback)&&c.callback.apply(g)},simulateDragNDrop:function(){var n=this,r=this.target,o=e.extend({dragTarget:t,dropTarget:t},n.options),i=(o.dragTarget||o.dx||o.dy?o.dropTarget:r)||r;e(r).simulate("drag",e.extend({},o,{dragTarget:o.dragTarget||(o.dx||o.dy?t:o.dropTarget),callback:function(){e(i).simulate("drop",o)}}))}})}(jQuery),function(e,t){"use strict";var n={SHIFT:16,CONTROL:17,ALTERNATIVE:18,META:91,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,ENTER:13,TABULATOR:9,ESCAPE:27,BACKSPACE:8,INSERT:45,DELETE:46,HOME:36,END:35,PAGE_UP:33,PAGE_DOWN:34};n.CTRL=n.CONTROL,n.ALT=n.ALTERNATIVE,n.COMMAND=n.META,n.TAB=n.TABULATOR,n.ESC=n.ESCAPE,e.extend(e.simulate.prototype,{simulateKeyCombo:function(){var r,o=e(this.target),i=e.extend({combo:"",eventProps:{},eventsOnly:!1},this.options),a=i.combo,s=a.split(/(\+)/),u=!1,l=[];if(0!==a.length){for(s=e.grep(s,function(e){return""!==e}),r=0;r<s.length;r+=1){var c=s[r],d=c.toLowerCase(),p=c.toUpperCase().replace("-","_");if(u){if("+"!==c)throw'Syntax error: expected "+"';u=!1}else{var f;if(c.length>1){if(f=n[p],f===t)throw'Syntax error: unknown special key "'+c+'" (forgot "+" between keys?)';switch(f){case n.CONTROL:case n.ALT:case n.SHIFT:case n.META:i.eventProps[d+"Key"]=!0}l.unshift(f),i.eventProps.keyCode=f,i.eventProps.which=f,i.eventProps.charCode=0,o.simulate("keydown",i.eventProps)}else f=e.simulate.prototype.simulateKeySequence.prototype.charToKeyCode(c),l.unshift(f),i.eventProps.keyCode=f,i.eventProps.which=f,i.eventProps.charCode=t,o.simulate("keydown",i.eventProps),i.eventProps.shiftKey&&(c=c.toUpperCase()),i.eventProps.keyCode=c.charCodeAt(0),i.eventProps.charCode=i.eventProps.keyCode,i.eventProps.which=i.eventProps.keyCode,o.simulate("keypress",i.eventProps),i.eventsOnly===!0||i.eventProps.ctrlKey||i.eventProps.altKey||i.eventProps.metaKey||o.simulate("key-sequence",{sequence:c,triggerKeyEvents:!1});u=!0}}if(!u)throw'Syntax error: expected key (trailing "+"?)';for(i.eventProps.charCode=t,r=0;r<l.length;r+=1){switch(i.eventProps.keyCode=l[r],i.eventProps.which=l[r],i.eventProps.keyCode){case n.ALT:i.eventProps.altKey=!1;break;case n.SHIFT:i.eventProps.shiftKey=!1;break;case n.CONTROL:i.eventProps.ctrlKey=!1;break;case n.META:i.eventProps.metaKey=!1}o.simulate("keyup",i.eventProps)}}}})}(jQuery),function(e,t){"use strict";e.simulate.prototype.quirks=e.simulate.prototype.quirks||{},e.extend(e.simulate.prototype.quirks,{delayedSpacesInNonInputGlitchToEnd:t}),e.extend(e.simulate.prototype,{simulateKeySequence:function(){function n(){i.trigger({type:"simulate-keySequence",sequence:s}),e.isFunction(a.callback)&&a.callback.apply(o,[{sequence:s}])}function r(){var t=d()-p;if(t>=a.delay){var o=c.exec(s);if(null!==o){var i=o[0];(u[i]||e.simulate.prototype.simulateKeySequence.defaults[i]||e.simulate.prototype.simulateKeySequence.defaults.simplechar)(l,i,a),setTimeout(r,a.delay)}else n();p=d()}else setTimeout(r,a.delay-t)}var o=this.target,i=e(o),a=e.extend({sequence:"",triggerKeyEvents:!0,eventProps:{},delay:0,callback:t},this.options),s=a.sequence;a.delay=parseInt(a.delay,10);var u={};e.simulate.prototype.quirks.delayedSpacesInNonInputGlitchToEnd&&!i.is("input,textarea")&&e.extend(u,{" ":function(n,r,o){var i=e.extend({},o,{triggerKeyEvents:!1,delay:0,callback:t});e.simulate.prototype.simulateKeySequence.defaults.simplechar(n," ",i),e.simulate.prototype.simulateKeySequence.defaults["{leftarrow}"](n,r,i),e.simulate.prototype.simulateKeySequence.defaults.simplechar(n,r,o),e.simulate.prototype.simulateKeySequence.defaults["{del}"](n,r,i)}}),e.extend(u,a,i.data("simulate-keySequence"));var l=e.data(o,"simulate-keySequence.selection");if(l||(l=bililiteRange(o).bounds("selection"),e.data(o,"simulate-keySequence.selection",l),i.bind("mouseup.simulate-keySequence",function(){e.data(o,"simulate-keySequence.selection").bounds("selection")}).bind("keyup.simulate-keySequence",function(t){9===t.which?e.data(o,"simulate-keySequence.selection").select():e.data(o,"simulate-keySequence.selection").bounds("selection")})),i.focus(),"undefined"!=typeof s)if(s=s.replace(/\n/g,"{enter}"),!a.delay||a.delay<=0)s.replace(/\{[^}]*\}|[^{]+/g,function(t){(u[t]||e.simulate.prototype.simulateKeySequence.defaults[t]||e.simulate.prototype.simulateKeySequence.defaults.simplechar)(l,t,a)}),n();else{var c=/\{[^}]*\}|[^{]/g,d=Date.now||function(){return(new Date).getTime()},p=d();r()}}}),e.extend(e.simulate.prototype.simulateKeySequence.prototype,{IEKeyCodeTable:{33:49,64:50,35:51,36:52,37:53,94:54,38:55,42:56,40:57,41:48,59:186,58:186,61:187,43:187,44:188,60:188,45:189,95:189,46:190,62:190,47:191,63:191,96:192,126:192,91:219,123:219,92:220,124:220,93:221,125:221,39:222,34:222},charToKeyCode:function(n){var r=e.simulate.prototype.simulateKeySequence.prototype.IEKeyCodeTable,o=n.charCodeAt(0);return o>=64&&90>=o||o>=48&&57>=o?o:o>=97&&122>=o?n.toUpperCase().charCodeAt(0):r[o]!==t?r[o]:o}}),e.simulate.prototype.simulateKeySequence.defaults={simplechar:function(t,n,r){if(t.text(n,"end"),r.triggerKeyEvents)for(var o=0;o<n.length;o+=1){var i=n.charCodeAt(o),a=e.simulate.prototype.simulateKeySequence.prototype.charToKeyCode(n.charAt(o));e(t._el).simulate("keydown",e.extend({},r.eventProps,{keyCode:a})),e(t._el).simulate("keypress",e.extend({},r.eventProps,{keyCode:i,which:i,charCode:i})),e(t._el).simulate("keyup",e.extend({},r.eventProps,{keyCode:a}))}},"{{}":function(t,n,r){e.simulate.prototype.simulateKeySequence.defaults.simplechar(t,"{",r)},"{enter}":function(t,n,r){t.insertEOL(),t.select(),r.triggerKeyEvents===!0&&(e(t._el).simulate("keydown",e.extend({},r.eventProps,{keyCode:13})),e(t._el).simulate("keypress",e.extend({},r.eventProps,{keyCode:13,which:13,charCode:13})),e(t._el).simulate("keyup",e.extend({},r.eventProps,{keyCode:13})))},"{backspace}":function(t,n,r){var o=t.bounds();o[0]===o[1]&&t.bounds([o[0]-1,o[0]]),t.text("","end"),r.triggerKeyEvents===!0&&(e(t._el).simulate("keydown",e.extend({},r.eventProps,{keyCode:8})),e(t._el).simulate("keyup",e.extend({},r.eventProps,{keyCode:8})))},"{del}":function(t,n,r){var o=t.bounds();o[0]===o[1]&&t.bounds([o[0],o[0]+1]),t.text("","end"),r.triggerKeyEvents===!0&&(e(t._el).simulate("keydown",e.extend({},r.eventProps,{keyCode:46})),e(t._el).simulate("keyup",e.extend({},r.eventProps,{keyCode:46})))},"{rightarrow}":function(t,n,r){var o=t.bounds();o[0]===o[1]&&(o[1]+=1),t.bounds([o[1],o[1]]).select(),r.triggerKeyEvents===!0&&(e(t._el).simulate("keydown",e.extend({},r.eventProps,{keyCode:39})),e(t._el).simulate("keyup",e.extend({},r.eventProps,{keyCode:39})))},"{leftarrow}":function(t,n,r){var o=t.bounds();o[0]===o[1]&&(o[0]-=1),t.bounds([o[0],o[0]]).select(),r.triggerKeyEvents===!0&&(e(t._el).simulate("keydown",e.extend({},r.eventProps,{keyCode:37})),e(t._el).simulate("keyup",e.extend({},r.eventProps,{keyCode:37})))},"{selectall}":function(e){e.bounds("all").select()}},e.simulate.ext_disableQuirkDetection!==!0&&e(document).ready(function(){var t=e("<div/>").css({height:1,width:1,position:"absolute",left:-1e3,top:-1e3}).appendTo("body");t.simulate("key-sequence",{sequence:"   ",delay:1,callback:function(){e.simulate.prototype.quirks.delayedSpacesInNonInputGlitchToEnd="   "===t.text(),t.remove()}})})}(jQuery))}(jQuery);
//# sourceMappingURL=domtest.min.js.map